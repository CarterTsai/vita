CONFIGURATION SYNTAX

  configuration:=
    private_interface { <interface> }
    public_interface { <interface> }
    node_ip4 <ipv4addr>;
    private_nexthop_ip4 <ipv4addr>;
    public_nexthop_ip4 <ipv4addr>;
    [ route { <route> } ]*
    [ negotiation_ttl <seconds>; ]
    [ sa_ttl <seconds>; ]

  interface:=
    macaddr <hwaddr>;
    [ vlan <tag>; ]
    [ mtu <size>; ]
    pciaddr <busaddr>;
    [ vmdq true; ]

  route:=
    id <string>;
    net_cidr4 <ipv4prefix>;
    gw_ip4 <ipv4addr>;
    preshared_key <string>;

NOTES

  A Vita configuration defines a private and a public network interface, the
  gateway’s own IP address, the IP addresses of the private and public next
  hops respectively, and a set of routes to other Vita nodes.

  Each interface is identified by a Linux PCI bus address, and assigned an
  Ethernet address. Optionally, the MTU can be specified in bytes, and a
  IEEE 802.1Q VLAN Identifier can be set. It may be necessary do enable VMDq
  for some devices, i.e. to use virtualized private and public interfaces on a
  single port, or even in order to configure an Ethernet address.

  Each route is given a human readable identifier that can be used for
  documentation purposes. This identifier has no other bearing. The destination
  IPv4 subnet and gateway are specified with an IPv4 prefix in CIDR notation,
  and an IPv4 address respectively. Finally, each route is assigned a unique,
  preshared 4096 bit key, encoded as a hexadecimal string (two digits for each
  octet, most significant digit first).

  While the default configuration should be generally applicable, negotiation
  timeout and the lifetime of security associations can be specified in
  seconds.

EXAMPLE

  private_interface { macaddr 52:54:00:00:00:00; mtu 1280; pciaddr 0c:00.0; }
  public_interface { macaddr 52:54:00:00:00:FF; pciaddr 0c:00.1; }

  node_ip4 192.168.10.10;
  private_nexthop_ip4 192.168.10.1;
  public_nexthop_ip4 192.168.10.1;

  route {
    id testroute1;
    net_cidr4 192.168.20.0/24;
    gw_ip4 192.168.20.10;
    preshared_key C2801464DD26F19142CD38ECC234056A...;
  }

  route {
    id testroute2;
    net_cidr4 192.168.30.0/24;
    gw_ip4 192.168.30.10;
    preshared_key 31069EC0B524E9403D9543C2CCA45B3D...;
  }

  sa_ttl 86400;
